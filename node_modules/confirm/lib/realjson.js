// Generated by CoffeeScript 1.4.0
(function() {

  exports.convert = function(data) {
    var json, obj;
    try {
      obj = eval('(' + data + ')');
      json = JSON.stringify(obj, null, '  ');
      if (json[0] !== '{') {
        return '';
      } else {
        return json;
      }
    } catch (ex) {
      return '';
    }
  };

  exports.stream = function(instream, outstream) {
    var data;
    data = '';
    instream.setEncoding('utf-8');
    instream.on('data', function(chunk) {
      return data += chunk;
    });
    instream.on('end', function() {
      return outstream.write(exports.convert(data) + '\n');
    });
    return instream.resume();
  };

}).call(this);
