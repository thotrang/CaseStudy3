// Generated by CoffeeScript 1.6.3
(function() {
  var confirm, read, setImm;

  read = require('read');

  setImm = setImmediate || process.nextTick;

  module.exports = confirm = function(_arg, callback) {
    var args, negative, positive, query, stdin, stdout;
    stdin = _arg.stdin, stdout = _arg.stdout, query = _arg.query, positive = _arg.positive, negative = _arg.negative;
    args = arguments;
    return read({
      input: stdin,
      output: stdout,
      prompt: query
    }, function(err, response) {
      if (err) {
        return callback(err);
      } else if (response === positive) {
        return callback(null, true);
      } else if (response === negative) {
        return callback(null, false);
      } else {
        return setImm(function() {
          return confirm.apply(null, args);
        });
      }
    });
  };

}).call(this);
